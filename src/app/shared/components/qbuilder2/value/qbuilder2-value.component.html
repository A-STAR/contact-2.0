<span class="value">
  <span *ngIf="displayAsArray">(</span>

  <ng-container *ngFor="let v of value; let i = index; let last = last">
    <ng-container [ngSwitch]="controlType">

      <!-- Datepicker -->
      <ng-container *ngSwitchCase="'date'">
        <app-input-datepicker
          buttonClass="btn btn-sm btn-default"
          inputClass="form-control input-sm"
          [ngModel]="toDate(v)">
        </app-input-datepicker>
      </ng-container>

      <!-- Dropdown -->
      <ng-container *ngSwitchCase="'set'">
        <app-select
          [ngModel]="v"
          [options]="options">
        </app-select>
      </ng-container>

      <!-- Default input -->
      <ng-container *ngSwitchDefault>
        <input
          type="text"
          class="form-control input-sm"
          [ngModel]="v"
          (change)="onValueChange($event, i)"
        />
      </ng-container>
    </ng-container>
    <span *ngIf="!last && displayAsArray">,&nbsp;</span>
  </ng-container>

  <span *ngIf="displayAsArray">)</span>

  <ng-container *ngIf="displayButtons">
    <button class="btn btn-xs btn-default" (click)="addValue()">+</button>
    <button class="btn btn-xs btn-default" (click)="removeValue()">-</button>
  </ng-container>
<span>
