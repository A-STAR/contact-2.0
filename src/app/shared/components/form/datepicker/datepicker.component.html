<div class="datepicker">
  <span *ngIf="form" class="input-group" [formGroup]="form">
    <input
      #input
      class="form-control input-sm"
      [formControlName]="controlName"
      [name]="controlName"
      (ngModelChange)="onValueChange($event)"
      placeholder="Select a date"
      style="float:none"
      [textMask]="mask"
    />
    <span class="input-group-btn">
      <button #trigger class="btn btn-sm btn-default" type="button" (click)="toggleCalendar()"><i class="fa fa-calendar"></i></button>
    </span>
  </span>
  <span *ngIf="!form" class="input-group">
    <input
      #input
      class="form-control input-sm"
      [name]="name"
      [ngModel]="date"
      (ngModelChange)="onValueChange($event)"
      placeholder="Select a date"
      style="float:none"
      [textMask]="mask"
    />
    <span class="input-group-btn">
      <button #trigger class="btn btn-sm btn-default" type="button" (click)="toggleCalendar()"><i class="fa fa-calendar"></i></button>
    </span>
  </span>
  <div #dropdown>
    <div *ngIf="isExpanded" class="dropdown" [ngStyle]="dropdownStyle">
      <p-calendar
        [ngModel]="date"
        (ngModelChange)="onDateChange($event)"
        [inline]="true"
        [monthNavigator]="true"
        [yearNavigator]="true"
        yearRange="1900:2050"
        [dateFormat]="dateFormat"
        [locale]="locale">
      </p-calendar>
    </div>
  </div>
</div>
