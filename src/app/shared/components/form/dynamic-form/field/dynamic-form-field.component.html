<ng-container [ngSwitch]="control.type" [formGroup]="form">

  <ng-container *ngSwitchCase="'number'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <input type="number"
             class="form-control"
             [attr.placeholder]="(control.placeholder || '') | translate"
             [formControlName]="control.controlName">
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'text'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <input type="text"
             class="form-control"
             [attr.placeholder]="(control.placeholder || '') | translate"
             [formControlName]="control.controlName">
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'boolean'">
    <span class="form-label">
      <b>{{ control.label | translate }}</b>
    </span>
    <label class="radio-inline">
      <input type="radio" [formControlName]="control.controlName" value="1">
      {{'default.boolean.TRUE' | translate}}
    </label>
    <label class="radio-inline">
      <input type="radio" [formControlName]="control.controlName" value="0">
      {{'default.boolean.FALSE' | translate}}
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'checkbox'">
    <div class="checkbox mt0 mb0">
      <label>
        <input type="checkbox" [formControlName]="control.controlName"/>
        {{ control.label | translate}}
      </label>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="'select'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <app-select [formControlName]="control.controlName"
                  [actions]="control.optionsActions"
                  [closableSelectedItem]="control.closableSelectedItem"
                  [controlDisabled]="control.disabled"
                  [multiple]="control.multiple"
                  [nullable]="!control.required"
                  [options]="control.options"
                  [placeholder]="control.placeholder"
                  [readonly]="control.readonly"
                  [renderer]="control.optionsRenderer"
                  (onSelect)="selectHandler({ control: control, items: $event})">
      </app-select>
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'textarea'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <textarea
        [attr.placeholder]="(control.placeholder || '') | translate"
        [formControlName]="control.controlName"
        class="form-control"
        [rows]="control.rows || 2"
      ></textarea>
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'datepicker'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
    </label>
    <app-input-datepicker
      [formControlName]="control.controlName"
      [displayTime]="control.displayTime"
      [minDate]="control.minDate"
      [maxDate]="control.maxDate"
      [required]="control.required"
    ></app-input-datepicker>
  </ng-container>

  <ng-container *ngSwitchCase="'image'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
    </label>
    <app-image-upload
      [formControlName]="control.controlName"
      [height]="control.height"
      [url]="control.url">
    </app-image-upload>
  </ng-container>

  <ng-container *ngSwitchCase="'dialog'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <!-- TODO(d.maltsev): can we somehow use app-popup-input here? -->
      <div class="popupinput">
        <span class="input-group">
          <input class="form-control" [formControlName]="control.controlName"/>
          <span class="input-group-btn">
            <button class="btn btn-default" type="button" (click)="control.action()">
              <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
            </button>
          </span>
        </span>
      </div>
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'gridselect'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
    </label>
    <app-grid-dropdown
      [columns]="control.gridColumns"
      [formControlName]="control.controlName"
      [rows]="control.gridRows"
      [labelGetter]="control.gridLabelGetter"
      [valueGetter]="control.gridValueGetter"
      (select)="control.gridOnSelect ? control.gridOnSelect($event) : null">
    </app-grid-dropdown>
  </ng-container>

  <ng-container *ngSwitchCase="'password'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <app-password-input [formControlName]="control.controlName"></app-password-input>
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'radio'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
    </label>
    <app-radio-group [formControlName]="control.controlName" [options]="control.radioOptions"></app-radio-group>
  </ng-container>

  <ng-container *ngSwitchCase="'file'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
    </label>
    <app-file-upload [formControlName]="control.controlName" [fileName]="control.fileName"></app-file-upload>
  </ng-container>

  <input *ngSwitchCase="'hidden'"
         type="hidden"
         class="form-control"
         [formControlName]="control.controlName">

  <ng-container *ngSwitchCase="'button'">
    <label><span class="form-label">&nbsp;</span></label>
    <button
      class="btn btn-labeled btn-default"
      type="button"
      (click)="control.action()"
      [disabled]="control.disabled"
    >
      <span class="btn-label">
        <i *ngIf="control.iconCls" class="fa" [ngClass]="control.iconCls" aria-hidden="true"></i>
      </span>
      {{ control.label | translate }}
    </button>
  </ng-container>

  <ng-container *ngSwitchCase="'richtexteditor'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
    </label>
    <app-rich-text-editor
      [formControlName]="control.controlName"
      [toolbar]="control.toolbar"
      (init)="control.onInit ? control.onInit($event) : null">
    </app-rich-text-editor>
  </ng-container>

  <ng-container *ngSwitchCase="'multitext'">
    <label>
      <span class="form-label">
        {{ control.label | translate }}
      </span>
      <app-multitext-input [formControlName]="control.controlName" [options]="control.options"></app-multitext-input>
    </label>
  </ng-container>

  <ng-container *ngSwitchCase="'dynamic'">

    <ng-container *ngIf="control.dependsOn" [ngSwitch]="form.controls[control.dependsOn].value">

      <ng-container *ngSwitchCase="1">
        <label>
          <span class="form-label">
            {{ control.label | translate }}
          </span>
          <input type="number"
                 class="form-control"
                 [attr.placeholder]="(control.placeholder || '') | translate"
                 [formControlName]="control.controlName">
        </label>
      </ng-container>

      <ng-container *ngSwitchCase="2">
        <label class="form-label">
          {{ control.label | translate }}
        </label>
        <app-input-datepicker [formControlName]="control.controlName"></app-input-datepicker>
      </ng-container>

      <ng-container *ngSwitchCase="4">
        <span class="form-label">
          {{ control.label | translate }}
        </span>
        <label class="radio-inline">
          <input type="radio" [formControlName]="control.controlName" value="1">
          {{'default.boolean.TRUE' | translate}}
        </label>
        <label class="radio-inline">
          <input type="radio" [formControlName]="control.controlName" value="0">
          {{'default.boolean.FALSE' | translate}}
        </label>
      </ng-container>

      <ng-container *ngSwitchDefault>
        <label>
          <span class="form-label">
            {{ control.label | translate }}
          </span>
          <input type="text"
                 class="form-control"
                 [attr.placeholder]="(control.placeholder || '') | translate"
                 [formControlName]="control.controlName">
        </label>
      </ng-container>

    </ng-container> <!-- control.dependsOn -->

  </ng-container> <!-- control.type:'dynamic' -->

</ng-container> <!-- ngSwitch:control.type -->
