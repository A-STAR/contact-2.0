<form [formGroup]="form">

    <ng-container *ngFor="let control of controls">

      <ng-container [ngSwitch]="control.type">

        <div *ngSwitchCase="'number'" class="form-group">
          <label>{{control.label}}
            <input type="number"
                  class="form-control"
                  [attr.disabled]="control.disabled"
                  [formControlName]="control.controlName">
          </label>
        </div>

        <div *ngSwitchCase="'text'" class="form-group">
          <label>{{control.label}}
            <input type="text"
                  class="form-control"
                  [attr.disabled]="control.disabled"
                  [formControlName]="control.controlName">
          </label>
        </div>

        <div *ngSwitchCase="'boolean'" class="form-group">{{control.label}}<br>
          <label class="radio-inline">
            <input type="radio" [attr.disabled]="control.disabled" [formControlName]="control.controlName" value="1"> True
          </label>
          <label class="radio-inline">
            <input type="radio" [attr.disabled]="control.disabled" [formControlName]="control.controlName" value="0"> False
          </label>
        </div>

        <div class="form-group">
          <label *ngSwitchCase="'select'">{{control.label}}
            <app-select [formControlName]="control.controlName"
                        [allowClear]="true"
                        [items]="control.options"
                        [lazyItems]="control.lazyOptions"
                        [cachingItems]="control.cachingOptions"
                        [idField]="'value'"
                        [textField]="'label'"
                        [disabled]="control.disabled"
                        placeholder="{{ control.placeholder || '' }}">
              </app-select>
          </label>
        </div>

        <div class="form-group">
          <label *ngSwitchCase="'textarea'">{{control.label}}
            <textarea
              [attr.disabled]="control.disabled"
              [formControlName]="control.controlName"
              class="form-control"
              rows="control.rows || 2"
            ></textarea>
          </label>
        </div>

        <div *ngSwitchCase="'datepicker'" class="form-group">
          <label>{{control.label}}</label>
            <app-input-datepicker [form]="form" [controlName]="control.controlName"></app-input-datepicker>
        </div>

        <input *ngSwitchCase="'hidden'"
                type="hidden"
                class="form-control"
                [attr.disabled]="control.disabled"
                [formControlName]="control.controlName">

        <ng-container *ngSwitchCase="'dynamic'">

          <ng-container *ngIf="control.dependsOn" [ngSwitch]="form.controls[control.dependsOn].value">

          <div *ngSwitchCase="1" class="form-group">
            <label>{{control.label}}
              <input type="number"
                     class="form-control"
                     [attr.disabled]="control.disabled"
                     [formControlName]="control.controlName">
            </label>
          </div>

          <div *ngSwitchCase="2" class="form-group">
            <label>{{control.label}}</label>
            <app-input-datepicker [form]="form" [controlName]="control.controlName"></app-input-datepicker>
          </div>

          <div *ngSwitchCase="4" class="form-group">
            <label>{{control.label}}</label>
            <div>
              <label class="radio-inline">
                <input type="radio" [attr.disabled]="control.disabled" [formControlName]="control.controlName" value="1">
                {{'default.boolean.TRUE' | translate}}
              </label>
              <label class="radio-inline">
                <input type="radio" [attr.disabled]="control.disabled" [formControlName]="control.controlName" value="0">
                {{'default.boolean.FALSE' | translate}}
              </label>
            </div>
          </div>

          <div *ngSwitchDefault class="form-group">
            <label>{{control.label}}</label>
            <div>
              <input type="text"
                     class="form-control"
                     [attr.disabled]="control.disabled"
                     [formControlName]="control.controlName">
            </div>
          </div>

          </ng-container> <!-- control.dependsOn -->

        </ng-container> <!-- control.type:'dynamic' -->

      </ng-container> <!-- ngSwitch:control.type -->

    </ng-container> <!-- ngFor:controls -->

</form>
