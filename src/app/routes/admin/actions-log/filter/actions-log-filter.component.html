<div class="app-actions-log-filter">
  <form [formGroup]="form" class="log-filter-form">
    <div class="row">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-4">
            <label>
              {{ startDateControl.label | translate }}
              <app-input-datepicker
                [form]="form"
                [controlName]="startDateControl.controlName">
              </app-input-datepicker>
            </label>
          </div>
          <div class="col-md-2 pl0">
            <app-time [formControlName]="startTimeControl.controlName"></app-time>
          </div>
          <div class="col-md-4">
            <label>
              {{ endDateControl.label | translate }}
              <app-input-datepicker
                [form]="form"
                [controlName]="endDateControl.controlName">
              </app-input-datepicker>
            </label>
          </div>
          <div class="col-md-2 pl0">
            <app-time [formControlName]="endTimeControl.controlName"></app-time>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="row">
          <label class="col-md-12">
            {{ employeesControl.label | translate }}
          </label>
          <app-popup-input
            class="col-md-12"
            [value]="selectedEmployees"
            [placeholder]="employeesControl.placeholder"
            (action)="onEmployeesSelect()"
          >
          </app-popup-input>
          <app-action-dialog
            *ngIf="isEmployeesBeingSelected"
            [titleTranslationKey]="employeesControl.label"
            [autoWidth]="false"
            (action)="onSaveEmployeesChanges()"
            (cancel)="onCloseActionDialog()"
          >
            <app-multi-select
              #employees
              [formControlName]="employeesControl.controlName"
              [syncFormControlChanges]="false"
              [height]="190"
              [rowsFrom]="employeesRows | async"
              [rowsFilterFrom]="employeesRowsFilter"
              [columnsTranslationKeyFrom]="'actionsLog.filter.employees'"
              [columnsTranslationKeyTo]="'actionsLog.filter.employees'"
              [columnsFrom]="employeesColumnsFrom"
              [columnsTo]="employeesColumnsTo">
            </app-multi-select>
            <div class="checkbox">
              <label>
                <input type="checkbox" [formControlName]="blockingEmployeesControl.controlName"/>
                {{ blockingEmployeesControl.label | translate}}
              </label>
            </div>
          </app-action-dialog>
        </div>
      </div>
      <div class="col-md-5">
        <div class="row">
          <label class="col-md-12">
            {{ actionTypesControl.label | translate }}
          </label>
          <app-popup-input
            class="col-md-12"
            [value]="selectedActionTypes"
            [placeholder]="actionTypesControl.placeholder"
            (action)="onActionTypesSelect()"
          >
          </app-popup-input>
          <app-action-dialog
            *ngIf="isActionTypesBeingSelected"
            [autoWidth]="false"
            [titleTranslationKey]="actionTypesControl.label"
            (action)="onSaveActionTypesChanges()"
            (cancel)="onCloseActionDialog()"
          >
            <app-multi-select
              #actionTypes
              [formControlName]="actionTypesControl.controlName"
              [syncFormControlChanges]="false"
              [height]="190"
              [equalsFn]="actionTypesEqualsFn"
              [rowsFrom]="actionTypesRows | async"
              [columnsTranslationKeyFrom]="'actionsLog.filter.actionsTypes'"
              [columnsTranslationKeyTo]="'actionsLog.filter.actionsTypes'"
              [columnsFrom]="actionsTypesColumnsFrom"
              [columnsTo]="actionsTypesColumnsTo">
            </app-multi-select>
          </app-action-dialog>
        </div>
      </div>
      <div class="col-md-1">
        <div class="row">
          <label class="col-md-12">
            &nbsp;
          </label>
          <button class="btn btn-default search-button" (click)="onSearch()">
            <i class="fa fa-search" aria-hidden="true"></i>
            <span>
              Search
            </span>
          </button>
        </div>
        <!--<app-toolbar
          [actions]="toolbarActions"
          [actionAlign]="'right'"
          (actionClick)="onSearch()">
        </app-toolbar>-->
      </div>
    </div>
  </form>
</div>
