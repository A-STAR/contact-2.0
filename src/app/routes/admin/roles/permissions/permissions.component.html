<app-add-permission
  *ngIf="shouldDisplay(1) | async"
  [currentRole]="currentRole"
  (add)="onAddPermissions($event)"
  (cancel)="onCancel()"
>
</app-add-permission>

<app-edit-permission
  *ngIf="shouldDisplay(2) | async"
  [record]="editedPermission"
  (save)="onAfterEditPermission($event)"
  (cancel)="onCancel()"
>
</app-edit-permission>

<app-submitted-popup
  *ngIf="shouldDisplay(3) | async"
  [titleTranslationKey]="'roles.permissions.remove.title'"
  [actionTranslationKey]="'roles.permissions.remove.confirmMessage'"
  [actionMessage]="'default.buttons.remove'"
  [messageParams]="editedPermission"
  [actionMode]="'danger'"
  (action)="onRemovePermission()"
  (cancel)="onCancel()"
>
</app-submitted-popup>

<app-grid
  [styles]="{height: '200px'}"
  [columns]="columns"
  [columnTranslationKey]="'roles.permissions'"
  [parseFn]="parseFn"
  [dataSource]="dataSource"
  [autoLoad]="false"
  [selectionType]="'single'"
  [editPermission]="'PERMIT_EDIT'"
  [toolbarActions]="toolbarActions"
  (onEdit)="onBeforeEditPermission()"
  (onRowSelect)="onSelectPermissions($event)"
  (onAction)="onAction($event)"
>
</app-grid>
