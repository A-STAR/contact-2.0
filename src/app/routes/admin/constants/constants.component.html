<p-dialog
    appendTo="body"
    [header]="dialogTitle"
    [draggable]="true"
    [modal]="true"
    [resizable]="false"
    [responsive]="false"
    [width]="600"
    [height]="650"
    [(visible)]="display">

  <form *ngIf="display" [formGroup]="form" novalidate>
    <div class="form-group">
      <label>Id
        <input type="number" class="form-control" formControlName="id">
      </label>
    </div>
    <div class="form-group">
      <label>Name</label>
      <div>
        <input type="text" class="form-control" formControlName="name">
      </div>
    </div>

    <div class="form-group">
      <label>Тип значения
        <select class="form-control" formControlName="typeCode">
          <option value="1">Число</option>
          <option value="2">Дата</option>
          <option value="3">Строка</option>
          <option value="4">Булево</option>
          <option value="5">Деньги</option>
          <option value="6">Словарь</option>
        </select>
      </label>
    </div>
    <div [ngSwitch]="form.controls['typeCode'].value">

      <div *ngSwitchCase="1" class="form-group">
        <label>Значение
          <input type="number" class="form-control" formControlName="value">
        </label>
      </div>

      <div *ngSwitchCase="2" class="form-group">
        <label>Значение</label>
        <div>
          <app-input-datepicker [form]="form" controlName="value"></app-input-datepicker>
        </div>
      </div>

      <div *ngSwitchCase="4" class="form-group">
        <label>Значение</label>
        <div>
          <label class="radio-inline">
            <input type="radio" formControlName="value" value="1"> True
          </label>
          <label class="radio-inline">
            <input type="radio" formControlName="value" value="0"> False
          </label>
        </div>
      </div>

      <div *ngSwitchDefault class="form-group">
        <label>Значение</label>
        <div>
          <input type="text" class="form-control" formControlName="value">
        </div>
      </div>

    </div>

    <!--<div class="form-group">
      <label>Age
        <input
          type="number"
          formControlName="age"
          class="form-control"
          currencyMask
          [options]="{ align: 'left', prefix: '', suffix: '', thousands: ' ', decimal: '.' }"
        >
      </label>
    </div>-->

    <div class="form-group">
      <label>Коментарий
        <textarea
          formControlName="dsc"
          class="form-control"
          rows="2"
        ></textarea>
      </label>
    </div>
    <div class="form-group">
      <label>Альтернативный коментарий
        <textarea
          formControlName="altDsc"
          class="form-control"
          rows="2"
        ></textarea>
      </label>
    </div>
  </form>

  <p-footer>
    <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
      <button type="button" class="ui-button-secondary" pButton icon="fa-close" (click)="display=false" label="Cancel"></button>
      <button type="button" class="ui-button-success" pButton icon="fa-check" (click)="display=false" label="Save"></button>
    </div>
  </p-footer>

</p-dialog>

<app-tabstrip>
  <app-tab *ngFor="let tab of tabs" [title]="tab.title" (onClose)="onClose($event)" [active]="tab.active">
    <app-grid
      [columns]="columns"
      [parseFn]="parseFn"
      [dataSource]="dataSource"
      (onEdit)="onEdit($event)">
    </app-grid>
  </app-tab>
</app-tabstrip>
